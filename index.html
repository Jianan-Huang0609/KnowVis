<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è¯»ä¹¦ç¬”è®° Â· æŒ‡ä»¤ç”Ÿæˆå™¨</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com">
  function resetForm(){
    try{
      // Text inputs
      const ids = ['title','outname','langmix','chartlib','links','rawtext'];
      ids.forEach(id => { const el = document.getElementById(id); if(el){ el.value = ''; }});

      // File input
      const filesEl = document.getElementById('files'); if(filesEl){ filesEl.value=''; }

      // Color reset
      if(document.getElementById('colorHex')){ document.getElementById('colorHex').value = '#F05E1C'; }
      if(document.getElementById('color')){ document.getElementById('color').value = '#F05E1C'; }
      document.documentElement.style.setProperty('--primary', '#F05E1C');

      // Outline controls
      const density = document.getElementById('outlineDensity'); if(density){ density.value = 'standard'; }
      const tables = document.getElementById('tables'); if(tables){ tables.value = 'auto'; }
      const charts = document.getElementById('chartsHint'); if(charts){ charts.checked = true; }
      const bullets = document.getElementById('bulletsMax'); if(bullets){ bullets.value = 6; }
      const moduleSplit = document.getElementById('moduleSplit'); if(moduleSplit){ moduleSplit.checked = true; }

      // Output & status
      const out = document.getElementById('output'); if(out){ out.value=''; }
      const status = document.getElementById('status'); if(status){ status.textContent = 'ğŸ§¹ å·²é‡ç½®'; }
    }catch(e){
      const out = document.getElementById('output'); if(out){ out.value = 'âŒ é‡ç½®å¤±è´¥ï¼š' + e.message; }
      const status = document.getElementById('status'); if(status){ status.textContent = 'âŒ é‡ç½®å¤±è´¥'; }
      console.error(e);
    }
  }

</script>
  <style>
    :root{ --primary:#F05E1C; }
    .bento{ display:grid; grid-template-columns:repeat(12,1fr); gap:12px; }
    .card{ background:#fff; border:1px solid #eee; border-radius:18px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.04); }
    .accent{ background: linear-gradient(135deg, rgba(240,94,28,0.14), rgba(240,94,28,0.03)); }
    .bignum{ font-size:56px; font-weight:800; letter-spacing:-1px; line-height:1; color:var(--primary); }
    .ghost{ color:#9ca3af }
    .chip{ border:1px dashed rgba(240,94,28,.35); color:#ef6a2f; padding:2px 8px; border-radius:999px; font-size:12px; }
    .btn{ background:var(--primary); color:#fff; border-radius:12px; padding:10px 16px; font-weight:600; }
    .btn-outline{ border:1px solid var(--primary); color:var(--primary); background:#fff; border-radius:12px; padding:10px 16px; font-weight:600; }
    textarea{ white-space:pre; }
    .switch { position: relative; display: inline-block; width: 42px; height: 24px; }
    .switch input { display:none; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #e5e7eb; transition: .2s; border-radius:999px; }
    .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .2s; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,.2); }
    input:checked + .slider { background-color: var(--primary); }
    input:checked + .slider:before { transform: translateX(18px); }
  </style>
</head>
<body class="bg-white text-gray-900">
  <div class="max-w-6xl mx-auto px-4 py-8">
    <!-- HERO -->
    <header class="mb-8 bento">
      <div class="card accent col-span-12 md:col-span-8 flex items-center justify-between">
        <div>
          <div class="bignum">è¯»ä¹¦ç¬”è®° Â· æŒ‡ä»¤ç”Ÿæˆå™¨</div>
          <p class="mt-2 text-sm text-gray-600">
            CN ä¸»ä¿¡æ¯ / <span class="ghost">EN for tiny hints.</span>
            ä¸Šä¼ æ–‡ä»¶æˆ–ç²˜è´´æ–‡å­— â†’ ä¸€é”®ç”Ÿæˆç½‘é¡µè®¾è®¡ Promptï¼ˆå«å•æ–‡ä»¶ HTML ç«™ç‚¹è¦æ±‚ + å¤§çº²ç”Ÿæˆæ–¹å‘ï¼‰ã€‚
          </p>
        </div>
        <div class="hidden md:block text-right">
          <div class="chip">Bento Grid</div>
          <div class="mt-2 chip">#F05E1C Highlight</div>
        </div>
      </div>
      <div class="card col-span-12 md:col-span-4">
        <label class="text-sm text-gray-500">ä¸»é¢˜é«˜äº®è‰²</label>
        <div class="mt-2 flex items-center gap-3">
          <input id="color" type="color" value="#F05E1C" class="w-12 h-10 rounded" />
          <input id="colorHex" type="text" value="#F05E1C" class="border rounded px-3 py-2 w-40" />
        </div>
        <p class="mt-2 text-xs text-gray-500">æ”¯æŒ #F05E1C è¿™æ ·çš„åå…­è¿›åˆ¶ã€‚éæ³•å€¼ä¼šè‡ªåŠ¨å›é€€åˆ° #F05E1Cã€‚</p>
      </div>
    </header>

    <!-- FORM -->
    <section class="bento">
      <div class="card col-span-12 md:col-span-12">
        <div class="flex items-center justify-between">
          <h2 class="font-bold text-xl">1 Â· è¾“å…¥ææ–™ / Inputs</h2>
          <span class="chip">Attachments / Text / Links</span>
        </div>
        <div class="mt-4 grid md:grid-cols-2 gap-4">
          <div>
            <label class="text-sm text-gray-500">é¡¹ç›®æ ‡é¢˜ï¼ˆä¸­æ–‡å¤§å­—ï¼‰</label>
            <input id="title" class="mt-1 border rounded px-3 py-2 w-full" placeholder="è½¯ä»¶æ³¨å†ŒæŒ‡å¯¼åŸåˆ™è¦ç‚¹" />
          </div>
          <div>
            <label class="text-sm text-gray-500">è¾“å‡º HTML æ–‡ä»¶å</label>
            <input id="outname" class="mt-1 border rounded px-3 py-2 w-full" placeholder="medsw_guidance_notes" />
          </div>
          <div>
            <label class="text-sm text-gray-500">è¯­è¨€é…æ¯”ï¼ˆCN:ENï¼‰</label>
            <input id="langmix" class="mt-1 border rounded px-3 py-2 w-full" placeholder="CN:EN = 80:20" />
          </div>
          <div>
            <label class="text-sm text-gray-500">åœ¨çº¿å›¾è¡¨ï¼ˆå¯é€‰ï¼Œå ä½åº“åï¼‰</label>
            <input id="chartlib" class="mt-1 border rounded px-3 py-2 w-full" placeholder="ECharts / Chart.js / Observable Plot" />
          </div>
        </div>
        <div class="mt-4">
          <label class="text-sm text-gray-500">æ·»åŠ é“¾æ¥ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰</label>
          <textarea id="links" rows="4" class="mt-1 border rounded px-3 py-2 w-full" placeholder="https://..."></textarea>
        </div>
        <div class="mt-4">
          <label class="text-sm text-gray-500">ç²˜è´´æ–‡æœ¬ï¼ˆå¯å¤šæ®µï¼‰</label>
          <textarea id="rawtext" rows="6" class="mt-1 border rounded px-3 py-2 w-full" placeholder="å¯ç²˜è´´å­¦ä¹ æ‘˜å½•ã€è¦ç‚¹ã€ç›®å½•â€¦"></textarea>
        </div>
        <div class="mt-4">
          <label class="text-sm text-gray-500">ä¸Šä¼ æ–‡ä»¶ï¼ˆä»…è®°å½•æ–‡ä»¶åï¼‰</label>
          <input id="files" type="file" multiple class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-600 hover:file:bg-orange-100" />
          <p class="mt-1 text-xs text-gray-500">æœ¬é¡µé¢ä¸è¯»å–æ–‡ä»¶å†…å®¹ï¼Œä»…æŠŠæ–‡ä»¶ååŠ å…¥æŒ‡ä»¤æ¸…å•ï¼›è§£æåœ¨ AI ç«¯æ‰§è¡Œã€‚</p>
        </div>
      </div>

      <div class="card col-span-12 md:col-span-6">
          <h2 class="font-bold text-xl">2 Â· å¤§çº²ç”Ÿæˆé€‰é¡¹ / Outline Controls</h2>
        <div class="mt-3 grid grid-cols-1 gap-3">
          <div class="flex items-center justify-between">
            <label class="text-sm text-gray-600">å¤§çº²å¯†åº¦</label>
            <select id="outlineDensity" class="border rounded px-3 py-2">
              <option value="compact">ç²¾ç®€ï¼ˆæ€»å­—æ•° &lt; 800ï¼‰</option>
              <option value="standard" selected>æ ‡å‡†ï¼ˆ800â€“1200ï¼‰</option>
              <option value="detailed">è¯¦ç»†ï¼ˆ1500+ï¼‰</option>
            </select>
          </div>
          <div class="flex items-center justify-between">
            <label class="text-sm text-gray-600">æ˜¯å¦åŒ…å«æ•°æ®è¡¨</label>
            <select id="tables" class="border rounded px-3 py-2">
              <option value="auto" selected>è‡ªåŠ¨åˆ¤æ–­</option>
              <option value="force">å¼ºåˆ¶åŒ…å«</option>
              <option value="none">ä¸åŒ…å«</option>
            </select>
          </div>
          <div class="flex items-center justify-between">
            <label class="text-sm text-gray-600">æ˜¯å¦æä¾›å›¾è¡¨å»ºè®®</label>
            <label class="switch">
              <input id="chartsHint" type="checkbox" checked />
              <span class="slider"></span>
            </label>
          </div>
          <div class="flex items-center justify-between">
            <label class="text-sm text-gray-600">æ¯æ¨¡å—è¦ç‚¹ä¸Šé™ï¼ˆ3â€“8ï¼‰</label>
            <input id="bulletsMax" type="number" min="3" max="8" step="1" value="6" class="border rounded px-3 py-2 w-24" />
          </div>
          <div class="flex items-center justify-between">
            <label class="text-sm text-gray-600">æ˜¯å¦æŒ‰æ³•è§„/ç« èŠ‚åˆ†æ¨¡å—</label>
            <label class="switch">
              <input id="moduleSplit" type="checkbox" checked />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="card col-span-12 md:col-span-6">
        <h2 class="font-bold text-xl">3 Â· ç”Ÿæˆ / Generate</h2>
        <p class="mt-2 text-sm text-gray-600">ç‚¹å‡»æŒ‰é’®ï¼Œç»„åˆå®Œæ•´ Promptã€‚æ— éœ€æ¯é¡¹éƒ½å¡«ï¼Œç•™ç©ºä¼šè‡ªåŠ¨ä½¿ç”¨åˆç†é»˜è®¤å€¼ã€‚</p>
        <div class="mt-4 flex flex-col gap-3">
          <button class="btn" onclick="safeGenerate()">ç”ŸæˆæŒ‡ä»¤</button>
          <button class="btn-outline" onclick="copyPrompt()">å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
          <button class="btn-outline" onclick="downloadPrompt()">ä¸‹è½½ä¸º .txt</button>
        </div>
        <div class="mt-2">
          <button class="btn-outline" onclick="resetForm()">é‡ç½®ï¼ˆæ¸…ç©ºæ‰€æœ‰è¾“å…¥ï¼‰</button>
        </div>
        <div class="mt-6">
          <label class="text-sm text-gray-500">å¿«é€Ÿé¢„è®¾</label>
          <div class="mt-2 flex gap-2 flex-wrap">
            <button class="chip" onclick="preset('software')">è½¯ä»¶æ³¨å†ŒæŒ‡å¯¼åŸåˆ™</button>
            <button class="chip" onclick="preset('generic')">é€šç”¨è¯»ä¹¦ç¬”è®°</button>
          </div>
        </div>
      </div>

      <div class="card col-span-12">
        <div class="flex items-center justify-between">
          <h2 class="font-bold text-xl">4 Â· ç”Ÿæˆç»“æœ / Prompt Output</h2>
          <span id="status" class="text-xs text-gray-500"></span>
        </div>
        <textarea id="output" rows="20" class="mt-3 w-full border rounded px-3 py-2 text-sm" placeholder="ç‚¹å‡»ã€ç”ŸæˆæŒ‡ä»¤ã€åä¼šåœ¨æ­¤å‡ºç°å®Œæ•´ Prompt"></textarea>
      </div>
    </section>

    <!-- FOOT -->
    <footer class="mt-8 text-center text-xs text-gray-500">
      Made for quick workflow Â· Bento UI Â· Single-file HTMLã€‚
    </footer>
  </div>

<script>
  // Helpers
  const $ = (id) => document.getElementById(id);
  const HEX_OK = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;

  // Keep color hex synced + tolerate invalid values
  const color = $('color');
  const colorHex = $('colorHex');
  function applyColor(hex){
    const ok = HEX_OK.test(hex);
    const val = ok ? hex : '#F05E1C';
    document.documentElement.style.setProperty('--primary', val);
    color.value = val;
    colorHex.value = val;
  }
  color.addEventListener('input', e => applyColor(e.target.value));
  colorHex.addEventListener('input', e => applyColor(e.target.value));

  function preset(type){
    if(type === 'software'){
      $('title').value = 'è½¯ä»¶æ³¨å†ŒæŒ‡å¯¼åŸåˆ™è¦ç‚¹';
      $('outname').value = 'medsw_guidance_notes';
      $('langmix').value = 'CN:EN = 80:20';
      $('chartlib').value = 'ECharts';
      applyColor('#F05E1C');
    } else {
      $('title').value = 'è¯»ä¹¦ç¬”è®°è¦ç‚¹';
      $('outname').value = 'reading_notes_site';
      $('langmix').value = 'CN:EN = 70:30';
      $('chartlib').value = 'Chart.js';
      applyColor('#2F80ED');
    }
    $('status').textContent = 'å·²åŠ è½½é¢„è®¾';
  }

  function generateDocList(){
    const files = Array.from(($('files') && $('files').files) || []);
    const links = (($('links') && $('links').value) || '').split('\\n').map(s=>s.trim()).filter(Boolean);
    const textLen = (($('rawtext') && $('rawtext').value) || '').trim().length;
    const parts = [];
    files.forEach((f,i)=> parts.push(`- é™„ä»¶${i+1}ï¼š${f.name}`));
    links.forEach((l,i)=> parts.push(`- é“¾æ¥${i+1}ï¼š${l}`));
    if(textLen>0){ parts.push(`- æ–‡æœ¬ï¼šå·²ç²˜è´´ï¼ˆçº¦ ${textLen} å­—ï¼‰`); }
    return parts.join('\\n') || '- ï¼ˆç¨åè¡¥å……é™„ä»¶/é“¾æ¥/æ–‡æœ¬ï¼‰';
  }

  function buildTaskAplus(){
    const density = ($('outlineDensity') && $('outlineDensity').value) || 'standard';
    const tables = ($('tables') && $('tables').value) || 'auto';
    const chartsHint = !!($('chartsHint') && $('chartsHint').checked);
    const bulletsMax = parseInt((($('bulletsMax') && $('bulletsMax').value) || '6'), 10);
    const moduleSplit = !!($('moduleSplit') && $('moduleSplit').checked);

    const densityText = {
      compact: 'ç²¾ç®€ç‰ˆï¼ˆæ€»å­—æ•° < 800ï¼‰',
      standard: 'æ ‡å‡†ç‰ˆï¼ˆ800â€“1200ï¼‰',
      detailed: 'è¯¦ç»†ç‰ˆï¼ˆ1500+ï¼‰'
    }[density] || 'æ ‡å‡†ç‰ˆï¼ˆ800â€“1200ï¼‰';

    const tablesText = {
      auto: 'è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦è¡¨æ ¼ï¼›å¦‚å‘ç°ç»“æ„åŒ–æ•°æ®åˆ™é‡‡ç”¨ Markdown è¡¨æ ¼å‘ˆç°ã€‚',
      force: 'å¼ºåˆ¶åŒ…å« 1â€“3 å¼ æ•°æ®è¡¨ï¼ˆå¦‚æ— ç»“æ„åŒ–æ•°æ®åˆ™åŸºäºè¦ç‚¹æ„é€ æœ€å°è¡¨ï¼‰ã€‚',
      none: 'ä¸ä½¿ç”¨è¡¨æ ¼å‘ˆç°ï¼Œä»…ä»¥è¦ç‚¹åˆ—è¡¨è¡¨è¾¾ã€‚'
    }[tables] || 'è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦è¡¨æ ¼ï¼›å¦‚å‘ç°ç»“æ„åŒ–æ•°æ®åˆ™é‡‡ç”¨ Markdown è¡¨æ ¼å‘ˆç°ã€‚';

    const chartLine = chartsHint
      ? '6. **æ•°æ®å¯è§†åŒ–æç¤º**ï¼šæ ‡è®°é€‚åˆè½¬åŒ–ä¸ºå›¾è¡¨çš„å†…å®¹ï¼Œå¹¶æ³¨æ˜æ¨èå›¾è¡¨ç±»å‹ï¼ˆæŸ±çŠ¶/æŠ˜çº¿/é¥¼å›¾/å…³ç³»å›¾ç­‰ï¼‰ã€‚'
      : '6. **æ•°æ®å¯è§†åŒ–æç¤º**ï¼šå¦‚å†…å®¹ä¸é€‚åˆå¯çœç•¥ã€‚';

    const moduleSplitLine = moduleSplit
      ? '4. **æ¨¡å—åˆ’åˆ†**ï¼šæŒ‰æ³•è§„æˆ–ä¸»é¢˜ç« èŠ‚æ‹†åˆ†ï¼Œç¡®ä¿æ¯ä¸ªæ¨¡å—ç‹¬ç«‹æˆæ®µã€‚'
      : '4. **æ¨¡å—åˆ’åˆ†**ï¼šä¸å¼ºåˆ¶æŒ‰ç« èŠ‚æ‹†åˆ†ï¼Œä»¥å™è¿°é€»è¾‘åˆ†æ®µã€‚';

    return `### ä»»åŠ¡ A+ï½œå¤§çº²ç”Ÿæˆæ–¹å‘ä¸å†…å®¹å¯†åº¦æ§åˆ¶
- **å¤§çº²ç¯‡å¹…**ï¼š${densityText}
- **æ¯æ¨¡å—è¦ç‚¹ä¸Šé™**ï¼š${bulletsMax} æ¡
- **æ˜¯å¦åŒ…å«æ•°æ®è¡¨**ï¼š${tablesText}
${moduleSplitLine}
5. **ç½‘é¡µæ˜ å°„**ï¼šæ ‡æ˜å¤§çº²ä¸­æ¯ä¸ªæ¨¡å—åœ¨ç½‘é¡µä¸­çš„å¸ƒå±€ä½ç½®ï¼ˆHeader/Main Body/Mid-Breaker/Footerï¼‰ã€‚
${chartLine}`;
  }

  function generatePrompt(){
    const title = (($('title') && $('title').value) || 'è½¯ä»¶æ³¨å†ŒæŒ‡å¯¼åŸåˆ™è¦ç‚¹').trim();
    const primary = (($('colorHex') && $('colorHex').value) || '#F05E1C').trim();
    const outname = (($('outname') && $('outname').value) || 'medsw_guidance_notes').trim();
    const langmix = (($('langmix') && $('langmix').value) || 'CN:EN = 80:20').trim();
    const chartlib = (($('chartlib') && $('chartlib').value) || '').trim();
    const doclist = generateDocList();

    const intro = `ä½ æ˜¯â€œè¯»ä¹¦ç¬”è®°ç½‘ç«™ç”Ÿæˆå™¨â€ã€‚æˆ‘ä¼šç»™ä½ è‹¥å¹² **é™„ä»¶/æ–‡æœ¬/é“¾æ¥**ï¼Œè¯·å®Œæˆä¸¤ä»¶äº‹ï¼š`;

    const taskA = `### ä»»åŠ¡ Aï½œç”Ÿæˆç³»ç»ŸåŒ–è¯»ä¹¦ç¬”è®°ï¼ˆMarkdownï¼‰
1. **æ€»çº²**ï¼šç”¨ 5â€“9 æ¡â€œè¶…å¤§è¦ç‚¹â€æ¦‚æ‹¬æ ¸å¿ƒæ€æƒ³ï¼Œæ¯æ¡ â‰¤ 18 å­—ï¼›å¹¶ç»™ 1 å¥è‹±æ–‡å°å­—ç‚¹ç¼€ã€‚
2. **ç« èŠ‚æ¡†æ¶**ï¼šæŒ‰åŸæ–‡**ç›®å½•é¡ºåº**è¾“å‡ºä¸¤å±‚ç»“æ„ï¼ˆç« èŠ‚æ ‡é¢˜+3â€“6 æ¡è¦ç‚¹ï¼ŒåŠ¨å®¾ç»“æ„ï¼‰ã€‚
3. **æœ¯è¯­å¡**ï¼šåˆ— 8â€“15 ä¸ªå…³é”®æœ¯è¯­ï¼šä¸­æ–‡ï¼ˆåŠ ç²—ï¼‰/ Englishï¼ˆå°å­—ï¼‰/ ä¸€å¥è¯å®šä¹‰ã€‚
4. **å›¾ç¤ºè‰ç¨¿**ï¼šç»™å‡º 2â€“3 ä¸ªâ€œå‹¾çº¿å›¾â€æ–‡å­—è‰ç¨¿ï¼ˆè¯´æ˜èŠ‚ç‚¹ä¸è¿çº¿ï¼‰ã€‚
5. **å¼•ç”¨æº¯æº**ï¼šæ¯ä¸ªè¦ç‚¹æ ‡æ³¨ã€Refã€‘å¦‚ [æ¥æºå/ç« èŠ‚/é¡µç æˆ–æ®µè½]ã€‚`;

    const taskAplus = buildTaskAplus();

    const taskB = `### ä»»åŠ¡ Bï½œç”Ÿæˆâ€œå•æ–‡ä»¶å‰ç«¯ç½‘é¡µâ€çš„æºç ï¼ˆå¯ç›´æ¥æ‹·è´ä¸º .htmlï¼‰
**é¡µé¢æ ‡é¢˜**ï¼š${title}

**æ ¸å¿ƒè®¾è®¡å“²å­¦**
- æ•°å­—æ—¶ä»£çš„å°åˆ·å“ï¼šä¿¡æ¯é¥±å’Œã€å¸ƒå±€ç´§å‡‘ã€å­—ä½“çªå‡ºï¼Œä»¥è§†è§‰å†²å‡»æ›¿ä»£ç•™ç™½ã€‚
- å››æ®µç»“æ„ï¼ˆå¿…é¡»é€å­—éµå®ˆï¼‰ï¼šHeaderï¼ˆåˆŠå¤´ï¼‰ / Main Bodyï¼ˆ4+8 éå¯¹ç§° Bento Gridï¼‰ / Mid-Breakerï¼ˆä¸­æ®µåˆ†éš”åŒºï¼‰ / Dark Footerï¼ˆæ·±è‰²é¡µè„šï¼‰ã€‚

**é¡µé¢è“å›¾ï¼ˆç¡¬æ€§ï¼‰**
1) Headerï¼šä¸»æ ‡é¢˜/å‰¯æ ‡é¢˜/å‘å¸ƒæ—¥æœŸ/ä½œè€…ï¼Œä¸­æ–‡å¤§å·ç²—ä½“ï¼›è‹±æ–‡ä¸ºå°å­—ç‚¹ç¼€ï¼›å¯ç”¨ç»†åˆ†éš”çº¿/çº¹ç†ã€‚
2) Main Bodyï¼ˆ12 æ …æ ¼ â†’ 4+8ï¼‰ï¼š
   - è§†è§‰é”šç‚¹åŒºï¼ˆ4åˆ—ï¼‰ï¼šæ”¾ç½®**å·¨å¤§ã€æè¾¹ã€ç©ºå¿ƒ**çš„å­—æ¯/æ•°å­—/å›¾æ ‡ï¼Œå½¢æˆå‹å€’æ€§è§†è§‰å†²å‡»ï¼›æè¾¹é¢œè‰²é‡‡ç”¨ä¸»é¢˜è‰²ã€‚
   - æ ¸å¿ƒä¿¡æ¯åŒºï¼ˆ8åˆ—ï¼‰ï¼šç´§å‡‘å¡ç‰‡/åˆ—è¡¨ï¼Œé«˜å¯†åº¦æ’å¸ƒï¼›**ä¸¥æ ¼æŒ‰è¾“å…¥æ–‡æœ¬é¡ºåº**å±•ç¤ºï¼Œä¸å¾—çœç•¥ä»»ä½•è¦ç‚¹ã€‚
3) Midâ€‘Breakerï¼šé¡µé¢ä¸­ä¸‹éƒ¨å…¨å®½ï¼ŒèƒŒæ™¯/å¸ƒå±€ä¸ä¸»åŒºæ˜æ˜¾ä¸åŒï¼Œç”¨äºæ¬¡è¦ä¿¡æ¯ã€æ•°æ®æˆ–å¼•ç”¨ï¼Œæ‰¿æ‹…èŠ‚å¥åˆ‡åˆ†ã€‚
4) Dark Footerï¼šæ·±è‰²èƒŒæ™¯ #1f2937ï¼ˆæˆ–æ›´æ·±ï¼‰ï¼Œå¯¹æ¯”åº¦ â‰¥ 7:1ï¼Œæ”¾ç½®æ€»ç»“æ€§è§‚ç‚¹æˆ– CTAï¼ˆè¡ŒåŠ¨å·å¬ï¼‰ï¼Œé™„ç‰ˆæƒ/è”ç³»ã€‚

**è®¾è®¡åŸºå› ï¼ˆå¿…é¡»ä¸¥æ ¼æ‰§è¡Œï¼‰**
- å­—ä½“ï¼šä¸­æ–‡ä½¿ç”¨ Noto Serif SCï¼ˆæˆ–ç­‰ä»·å›é€€ï¼‰ï¼Œæ ‡é¢˜/æ­£æ–‡å­—å·æ¯”å¸¸è§„ç½‘é¡µå¤§ 1â€“2 çº§ï¼›ä¸­æ–‡åŠ ç²—ï¼Œè‹±æ–‡å°å­—ç‚¹ç¼€ã€‚
- ç”¨è‰²ï¼šçº¯ç™½åº• + ä¸»é¢˜é«˜äº®è‰² ${primary}ï¼›å¯ç”¨**åŒä¸€é«˜äº®è‰²çš„é€æ˜åº¦æ¸å˜**è¥é€ ç§‘æŠ€æ„Ÿï¼Œ**ä¸åŒé«˜äº®è‰²ä¹‹é—´ç¦æ­¢äº’ç›¸æ¸å˜**ã€‚
- å›¾å½¢åŒ–ï¼šä½¿ç”¨**å‹¾çº¿é£æ ¼ï¼ˆSVGï¼‰**åˆ¶ä½œ 2â€“3 ä¸ªå…³ç³»å›¾/æµç¨‹å›¾ï¼Œçº¿æ¡ç®€æ´ï¼Œå‘¼åº”ä¸»é¢˜è‰²ã€‚
- å¯¹æ¯”ï¼šç”¨**è¶…å¤§æ•°å­—/çŸ­è¯**ä½œä¸ºç« èŠ‚é”šç‚¹ï¼ˆ01/02/03â€¦ï¼‰ï¼Œå’Œå°å…ƒç´ å½¢æˆå¼ºçƒˆæ¯”ä¾‹åå·®ã€‚
- æ’ç‰ˆå¯†åº¦ï¼šå¡ç‰‡å¤–é—´è· â‰¤16pxï¼Œå†…é—´è· â‰¤16pxï¼›åˆ—è¡¨è¡Œè· 1.2â€“1.35ï¼›å¼ºè°ƒä¿¡æ¯é¥±å’Œä¸åˆ†ç»„æ¸…æ™°ã€‚

**åŠ¨æ•ˆä¸äº¤äº’**
- æ¨¡ä»¿ Apple å®˜ç½‘æ»šåŠ¨èŠ‚å¥ï¼šå‘ä¸‹æ»šåŠ¨æ—¶å…ƒç´ ä½ç§»/é€æ˜åº¦/ç¼©æ”¾è½»å¾®å˜åŒ–ï¼Œå¹³æ»‘ä¸ç‚«æŠ€ã€‚
- ä½¿ç”¨ **Framer Motionï¼ˆé€šè¿‡ CDN å¼•å…¥ï¼‰**ï¼›éœ€æä¾› \`prefers-reduced-motion\` å‹å¥½é™çº§ï¼ˆæˆ– IntersectionObserver+CSSï¼‰ã€‚
- è§†è§‰é”šç‚¹å…è®¸è½»å¾®è§†å·®ï¼ˆ3â€“6%ï¼‰ä¸æè¾¹å¼ºè°ƒï¼›å¡ç‰‡ hover å¾®ç¼©æ”¾ â‰¤1.02ã€‚

**æ•°æ®å¯è§†åŒ–**
- å¯å¼•ç”¨åœ¨çº¿å›¾è¡¨ç»„ä»¶ï¼ˆ${chartlib || 'Chart.js æˆ– ECharts'}ï¼‰ï¼Œé…è‰²ä¸å­—ä½“éœ€ä¸ä¸»é¢˜ä¸€è‡´ï¼›å›¾ä¾‹/åæ ‡è½´æœ€ç®€ï¼Œå¼ºè°ƒå…³é”®æ•°å€¼ã€‚

**å›¾æ ‡ä¸ç¦æ­¢é¡¹**
- å›¾æ ‡åº“ï¼šFont Awesome æˆ– Material Iconsï¼ˆCDN å¼•å…¥ï¼‰ã€‚
- **ç¦æ­¢**ä»¥ emoji ä½œä¸ºä¸»è¦å›¾æ ‡ã€‚

**æŠ€æœ¯ä¸äº¤ä»˜ï¼ˆç¡¬æ€§ï¼‰**
- æŠ€æœ¯æ ˆï¼šHTML5ã€TailwindCSS 3+ã€Framer Motionï¼ˆCDNï¼‰ã€æ‰€é€‰å›¾è¡¨åº“ï¼ˆCDNï¼‰ã€‚
- è¾“å‡ºï¼š**å•ä¸€ HTML æ–‡ä»¶**ï¼ˆä»…ä¸€ä»½ï¼‰ï¼ŒCSS å…è®¸ç”¨ CDNï¼›JS ä½¿ç”¨å†…è” <script>ï¼›åŒ…å« \`exportHTML()\`ï¼Œä¸‹è½½æ–‡ä»¶åä¸º \`${outname}.html\`ã€‚
- é…ç½®ï¼šæš´éœ² \`CONFIG = { primaryColor: '${primary}', langMix: '${langmix}', density: 'cozy' }\`ã€‚
- æ— éšœç¢ï¼šè¯­ä¹‰æ ‡ç­¾å®Œæ•´ï¼ˆheader/main/section/aside/footerï¼‰ï¼ŒTab å¯èšç„¦ï¼Œé“¾æ¥ hover æœ‰ä¸‹åˆ’çº¿ï¼ˆéä»…é é¢œè‰²åŒºåˆ†ï¼‰ï¼Œæ‰“å°æ ·å¼å‹å¥½ã€‚

**å¿…é¡»åŒ…å«çš„å†…å®¹**
- ä»»åŠ¡ A çš„æ€»çº²/ç« èŠ‚æ¡†æ¶/æœ¯è¯­å¡/å‹¾çº¿å›¾è‰ç¨¿/å¼•ç”¨æº¯æºï¼Œ**å…¨éƒ¨**çº³å…¥ç½‘é¡µå¹¶ä¸ Bento ç»“æ„å¯¹é½ã€‚
- **ä¸¥æ ¼æŒ‰ç…§è¾“å…¥æ–‡æœ¬å†…å®¹çš„é¡ºåºæ’å¸ƒ**ï¼Œåˆ†å¸ƒæ•´é½ï¼Œä¸è¦å‡ºç°å¤§æ®µç©ºç™½ã€‚
- **ä¸å¾—çœç•¥**ä»»æ„å†…å®¹è¦ç‚¹ã€‚`;

    const materials = `**è¾“å…¥ææ–™**
${doclist}`;

    const finalOut = `**æœ€ç»ˆè¾“å‡º**
- å…ˆç»™å‡º Aï¼ˆMarkdown ç¬”è®°ï¼‰ï¼Œå†ç»™å‡º A+ï¼ˆå¤§çº²æ–¹å‘å‚æ•°å›æ˜¾ï¼‰ï¼Œæœ€åç»™å‡º Bï¼ˆå®Œæ•´ HTML æºç ï¼Œå•æ–‡ä»¶ï¼Œå¯ç›´æ¥è¿è¡Œï¼‰ã€‚`;

    const payload = `**PROMPT â€” BEGIN**

${intro}

${taskA}

${taskAplus}

${taskB}

${materials}

${finalOut}

**PROMPT â€” END**`;

    return payload;
  }

  function safeGenerate(){
    const status = $('status');
    try{
      const prompt = generatePrompt();
      $('output').value = prompt;
      status.textContent = 'âœ… å·²ç”Ÿæˆ';
    }catch(err){
      $('output').value = 'âŒ PROMPT ç”Ÿæˆå¤±è´¥ï¼š' + (err && err.message ? err.message : String(err));
      status.textContent = 'âŒ å‡ºé”™';
      console.error(err);
    }
  }

  function copyPrompt(){
    try{
      const el = $('output');
      el.select();
      document.execCommand('copy');
      $('status').textContent = 'ğŸ“‹ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿';
    }catch(err){
      $('status').textContent = 'âš ï¸ å¤åˆ¶å¤±è´¥ï¼Œå¯æ‰‹åŠ¨é€‰ä¸­å¤åˆ¶æˆ–ç”¨ä¸‹æ–¹â€œä¸‹è½½ä¸º .txtâ€ã€‚';
    }
  }

  function downloadPrompt(){
    const text = ($('output') && $('output').value) || '';
    const blob = new Blob(['\ufeff'+text], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = 'prompt.txt'; a.click();
    setTimeout(()=> URL.revokeObjectURL(url), 500);
    $('status').textContent = 'â¬‡ï¸ å·²ä¸‹è½½ prompt.txt';
  }

  function resetForm(){
    try{
      // Text inputs
      const ids = ['title','outname','langmix','chartlib','links','rawtext'];
      ids.forEach(id => { const el = document.getElementById(id); if(el){ el.value = ''; }});

      // File input
      const filesEl = document.getElementById('files'); if(filesEl){ filesEl.value=''; }

      // Color reset
      if(document.getElementById('colorHex')){ document.getElementById('colorHex').value = '#F05E1C'; }
      if(document.getElementById('color')){ document.getElementById('color').value = '#F05E1C'; }
      document.documentElement.style.setProperty('--primary', '#F05E1C');

      // Outline controls
      const density = document.getElementById('outlineDensity'); if(density){ density.value = 'standard'; }
      const tables = document.getElementById('tables'); if(tables){ tables.value = 'auto'; }
      const charts = document.getElementById('chartsHint'); if(charts){ charts.checked = true; }
      const bullets = document.getElementById('bulletsMax'); if(bullets){ bullets.value = 6; }
      const moduleSplit = document.getElementById('moduleSplit'); if(moduleSplit){ moduleSplit.checked = true; }

      // Output & status
      const out = document.getElementById('output'); if(out){ out.value=''; }
      const status = document.getElementById('status'); if(status){ status.textContent = 'ğŸ§¹ å·²é‡ç½®'; }
    }catch(e){
      const out = document.getElementById('output'); if(out){ out.value = 'âŒ é‡ç½®å¤±è´¥ï¼š' + e.message; }
      const status = document.getElementById('status'); if(status){ status.textContent = 'âŒ é‡ç½®å¤±è´¥'; }
      console.error(e);
    }
  }

</script>

  <!-- Bottom signature bar -->
  <div class="w-full mt-6 py-5 text-center text-sm bg-gray-100 border-t">ğŸŒŠ <span class="font-semibold" style="color: var(--primary)">@Jianan</span> Â· åšåŒ»æ¢°RAåœˆ ğŸ©º Â· æœ€æ‡‚AI ğŸ¤– Â· çˆ±æ¸¸æ³³ ğŸŠ Â· è¾©è®ºé€‰æ‰‹ ğŸ¤</div>

</body>
</html>
